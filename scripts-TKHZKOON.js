var stage,clock1;function init(){document.getElementById("game_container").style.display="inline",document.getElementById("loading_div").style.display="none",stage=new createjs.Stage("canvasStage"),createjs.Touch.enable(stage,!0,!1),clock1=new clock(390,375,6,0,1),createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.on("tick",handleTick)}function handleTick(ae){stage.update(ae)}function clock(ae,Re,r,d,Be){var ze=!0,b=12,o,l,re,ie=!1,ge,be,s,L,ne=!1,pe,we,i=ae,n=Re,F,y,r=r,d=d,m,u,C="AM",S=r,oe=["#000000","#000000","#1976D2","#FF5722","#388E3C"],z=oe[1],Pe="#000000";o=new createjs.Container,o.x=0,o.y=0,stage.addChild(o);var X=new createjs.Shape,Ie=X.graphics.beginFill(z).command;X.graphics.drawCircle(0,0,374),X.x=i,X.y=n,o.addChild(X);var G=new createjs.Shape;G.graphics.beginFill("white").drawCircle(0,0,330),G.x=i,G.y=n,o.addChild(G);for(var k=new Array,Fe=new Array,f=316,e=1;e<=12;e++){var v=(-60+(e-1)*30)/180*Math.PI;k[e]=new createjs.Shape,Fe[e]=k[e].graphics.beginFill(z).command,k[e].graphics.drawRect(-10,-3,26,6),k[e].x=i+f*Math.cos(v),k[e].y=n+f*Math.sin(v),k[e].rotation=-60+(e-1)*30,o.addChild(k[e])}for(var j=new Array,ye=new Array,f=322,e=1;e<=60;e++){var v=(-60+(e-1)*6)/180*Math.PI;j[e]=new createjs.Shape,ye[e]=j[e].graphics.beginFill(z).command,j[e].graphics.drawRect(-10,-1,20,2),j[e].x=i+f*Math.cos(v),j[e].y=n+f*Math.sin(v),j[e].rotation=-60+(e-1)*6,o.addChild(j[e])}for(var M=new Array,f=350,J,e=1;e<=12;e++){var v=(-60+(e-1)*30)/180*Math.PI;J=e*5,J==60&&(J="00"),M[e]=new createjs.Text(J,"22px Roboto","#FFF"),M[e].x=i+f*Math.cos(v),M[e].y=n+f*Math.sin(v),M[e].textBaseline="middle",M[e].textAlign="center",o.addChild(M[e])}for(var p=new Array,le=new Array,f=260,e=1;e<=12;e++){var v=(-60+(e-1)*30)/180*Math.PI;p[e]=new createjs.Text(e,"76px Roboto","#34495E"),p[e].color=Pe,p[e].x=i+f*Math.cos(v),p[e].y=7+n+f*Math.sin(v),p[e].textBaseline="middle",p[e].textAlign="center",le[e]=p[e].clone(),le[e].outline=2,le[e].color="#000000",o.addChild(p[e])}u=new createjs.Text(e,"20px Roboto","#2C3E50"),u.x=i,u.y=340,u.textBaseline="middle",u.textAlign="center",u.text="AM",s=new createjs.Container,o.addChild(s);var A=new createjs.Shape;A.graphics.beginStroke("#000000").setStrokeStyle(2).setStrokeDash([10,5]).moveTo(0,0).lineTo(0,330).endStroke(),A.alpha=.3,A.rotation=270,L=new createjs.Shape;var Oe=L.graphics.beginFill(z).command;L.graphics.drawRect(-20,-10,330,20);var K=new createjs.Shape;K.graphics.beginFill("#000000").moveTo(0,60).lineTo(60,60).lineTo(30,120).lineTo(0,60).endStroke(),K.rotation=270,K.x=110,K.y=30;var T=new createjs.Shape;T.hitArea=new createjs.Shape,T.hitArea.graphics.beginFill("#FFF000").drawCircle(30,140,60),T.rotation=270,T.x=130,T.y=30;var w=new createjs.Shape;w.graphics.beginStroke("#000000").setStrokeStyle(2).setStrokeDash([10,5]).drawCircle(30,140,60),w.alpha=.3,w.rotation=270,w.x=130,w.y=30,s.addChild(A,L,T,w),s.x=i,s.y=n,s.on("pressup",function(a){ne=!1}),s.on("pressmove",function(a){if(!ne){var t=Te(a.stageX,i,a.stageY,n),c=i+t*Math.cos(s.rotation/180*Math.PI),h=n+t*Math.sin(s.rotation/180*Math.PI);pe=c-a.stageX,we=h-a.stageY,F=0,y=0,ne=!0}var _=Ae(a.stageX+pe,i,a.stageY+we,n);d=De(_),d<=15?(y==2&&(Ye(),ee(!1)),y=1):d>=45?(y==1&&(Ne(),ee(!1)),y=2):y=0,E(r,d)}),l=new createjs.Container,o.addChild(l);var R=new createjs.Shape;R.graphics.beginStroke("#000000").setStrokeStyle(1).setStrokeDash([10,5]).moveTo(0,0).lineTo(0,340).endStroke(),R.alpha=.3,R.rotation=270,re=new createjs.Shape,re.graphics.beginFill("#000000").drawRect(-20,-10,200,20);var Y=new createjs.Shape;Y.graphics.beginFill("#95A5A6"),Y.graphics.moveTo(0,60).lineTo(60,60).lineTo(30,120).lineTo(0,60),Y.rotation=270,Y.x=60,Y.y=30;var B=new createjs.Shape;B.hitArea=new createjs.Shape,B.hitArea.graphics.beginFill("#FFF000").drawCircle(30,130,60),B.rotation=270,B.x=130,B.y=30;var x=new createjs.Shape;x.graphics.beginStroke("#000000").setStrokeStyle(2).setStrokeDash([10,5]).drawCircle(30,130,60),x.alpha=.3,x.rotation=270,x.x=130,x.y=30,l.addChild(R,re,B,x),l.x=i,l.y=n,l.on("pressup",function(a){ie=!1}),l.on("pressmove",function(a){if(!ie){var t=Te(a.stageX,i,a.stageY,n),c=i+t*Math.cos(l.rotation/180*Math.PI),h=n+t*Math.sin(l.rotation/180*Math.PI);ge=c-a.stageX,be=h-a.stageY,F=0,y=0,ie=!0}var _=Ae(a.stageX+ge,i,a.stageY+be,n);_<0&&_>=-90?(F==2&&ee(!0),F=1):_<-90&&_>=-180?(F==1&&ee(!0),F=2):F=0,Ee(_),E(r,d)});var se=new createjs.Shape;se.graphics.beginFill("#34495E").beginStroke("#2C3E50").setStrokeStyle(10).drawCircle(0,0,20),se.x=i,se.y=n;var ce=new createjs.Shape;ce.graphics.beginStroke("#000000").setStrokeStyle(1).drawCircle(0,0,30),ce.x=i,ce.y=n,o.regX=i/2,o.regY=n/2,o.x=i-i/2,o.y=n-n/2,o.scale=Be;var g=new createjs.Container;g.x=80,g.y=55,g.scale=.8,stage.addChild(g);var N=new createjs.Shape;N.graphics.beginFill("#FFFFFF").drawRoundRect(-100,-40,200,70,2),N.x=i,N.y=300,N.alpha=.8,m=new createjs.Text(e,"70px Roboto","#000"),m.x=i,m.y=300,m.textBaseline="middle",m.textAlign="center",g.addChild(N,m);var Q=new createjs.Text("Digital","14px Mukta","#111");Q.x=675,Q.y=650,Q.textBaseline="middle",Q.textAlign="center";for(var q=new Array,H=new Array,e=1;e<=4;e++)q[e]=new createjs.Container,q[e].x=18+(e-1)*38,q[e].y=732,stage.addChild(q[e]),H[e]=new createjs.Shape,H[e].id=e,H[e].graphics.beginFill(oe[e]).drawCircle(0,0,16),H[e].on("click",function(t){He(oe[this.id]),E(r,d)}),q[e].addChild(H[e]);var de=new createjs.Container;de.x=625,de.y=675,stage.addChild(de);var me=new createjs.Shape;me.graphics.beginFill("#FFFFFF").beginStroke("#000000").setStrokeStyle(4).drawRoundRect(0,0,70,70,20),me.on("click",function(a){b=12,r>12&&(r=r%12),r<1&&(r=r+12),g.visible&&(u.visible=!0),E(r,d)});var U=new createjs.Text("12","44px Roboto","#111");U.x=32,U.y=38,U.textBaseline="middle",U.textAlign="center";var he=new createjs.Container;he.x=705,he.y=675,stage.addChild(he);var Se=new createjs.Shape;Se.graphics.beginFill("#FFFFFF").beginStroke("#000000").setStrokeStyle(4).drawRoundRect(0,0,70,70,20),Se.on("click",function(a){b=24,b==24&&(r==12&&(S==11?r=12:r=0),C=="PM"&&(r=r%12+12)),u.visible=!1,E(r,d)});var V=new createjs.Text("24","44px Roboto","#111");V.x=35,V.y=38,V.textBaseline="middle",V.textAlign="center";var _e=new createjs.Container;_e.x=705,_e.y=595,stage.addChild(_e);var ke=new createjs.Shape;ke.graphics.beginFill("#FFFFFF").beginStroke("#000000").setStrokeStyle(4).drawRoundRect(0,0,70,70,20),ke.on("click",function(a){g.visible?(g.visible=!1,u.visible=!1,P.text="ON"):(g.visible=!0,b==12&&(u.visible=!0),P.text="OFF")});var P=new createjs.Text("OFF","30px Roboto","#111");P.x=35,P.y=38,P.textBaseline="middle",P.textAlign="center";var ue=new createjs.Container;ue.x=5,ue.y=635,stage.addChild(ue);var je=new createjs.Shape;je.graphics.beginFill("#FFFFFF").beginStroke("#000000").setStrokeStyle(4).drawRoundRect(0,0,70,70,20),je.on("click",function(a){x.visible?(A.visible=!1,w.visible=!1,R.visible=!1,x.visible=!1,I.text="ON"):(A.visible=!0,w.visible=!0,R.visible=!0,x.visible=!0,I.text="OFF")});var I=new createjs.Text("OFF","30px Roboto","#111");I.x=35,I.y=38,I.textBaseline="middle",I.textAlign="center";var W=new createjs.Text("Dash Lines","14px Mukta","#111");W.x=80,W.y=35,W.textBaseline="middle",W.textAlign="left";var ve=new createjs.Container;ve.x=5,ve.y=5,stage.addChild(ve);var Ce=new createjs.Shape;Ce.graphics.beginFill("#FFFFFF").beginStroke("#000000").setStrokeStyle(4).drawRoundRect(0,0,70,70,20),Ce.on("click",function(a){l.visible?(l.visible=!1,O.text="ON"):(l.visible=!0,O.text="OFF")});var O=new createjs.Text("OFF","30px Roboto","#111");O.x=35,O.y=38,O.textBaseline="middle",O.textAlign="center";var Z=new createjs.Text("Hour Hand","14px Mukta","#111");Z.x=80,Z.y=35,Z.textBaseline="middle",Z.textAlign="left";var fe=new createjs.Container;fe.x=705,fe.y=5,stage.addChild(fe);var Me=new createjs.Shape;Me.graphics.beginFill("#FFFFFF").beginStroke("#000000").setStrokeStyle(4).drawRoundRect(0,0,70,70,20),Me.on("click",function(a){s.visible?(s.visible=!1,D.text="ON"):(s.visible=!0,D.text="OFF")});var D=new createjs.Text("OFF","30px Roboto","#111");D.x=35,D.y=38,D.textBaseline="middle",D.textAlign="center";var $=new createjs.Text("Minute Hand","14px Mukta","#111");$.x=-10,$.y=35,$.textBaseline="middle",$.textAlign="right",E(r,d);function De(a){var t=Math.round((a+90)/360*60);return t<0&&(t+=60),t}function Ee(a){var t;a>=150?(t=150,r=8):a>=120?(t=120,r=7):a>=90?(t=90,r=6):a>=60?(t=60,r=5):a>=30?(t=30,r=4):a>=0?(t=0,r=3):a>=-30?(t=-30,r=2):a>=-60?(t=-60,r=1):a>=-90?(t=-90,r=12):a>=-120?(t=-120,r=11):a>=-150?(t=-150,r=10):(a>=-180,t=-180,r=9),b==24&&(r==12&&(S==11?r=12:r=0),C=="PM"&&(r=r%12+12)),d=Xe(a,t)}function Xe(a,t){return Math.floor((a-t)*2)}function E(a,t){var c=360*(t/60)-90,h=360*(a/12)+30*(t/60)-90;s.rotation=c,l.rotation=h,S=a,window.dispatchEvent(new CustomEvent("timeClockAssigned",{detail:{hour:a,minute:t}})),qe(a,t)}function Ye(){r<b?r++:r=1,r==24&&(r=0)}function Ne(){r>1?r--:r=b,r==24&&(r=23)}function qe(a,t){var c="";t<10&&(c="0");var h="";b==24&&a<10&&(h="0"),m.text=h+a+":"+c+t}function ee(t){var t=t;t||(S==11&&r==12||S==12&&r==11||S==23&&r==0||S==0&&r==23)&&(t=!0),t&&(C=="AM"?C="PM":C="AM"),u.text=C}function He(a){Ie.style=a;for(var t=1;t<=12;t++)Fe[t].style=a;for(var t=1;t<=60;t++){var c=(-60+(t-1)*6)/180*Math.PI;ye[t].style=a}Oe.style=a}function Ae(a,t,c,h){var _=a-t,te=c-h,xe=Math.atan2(te,_),Le=xe*180/Math.PI;return Le}function Te(a,t,c,h){var _=a-t,te=c-h,xe=Math.sqrt(_*_+te*te);return xe}}
